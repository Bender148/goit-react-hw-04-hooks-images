{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/DeleteButton/DeleteButton.module.css","components/Button/Button.module.css","components/CloseButton/CloseButton.module.css","components/Error/Error.module.css","components/Searchbar/Searchbar.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/DeleteButton/DeleteButton.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/CloseButton/CloseButton.js","components/Modal/Modal.js","components/Error/Error.js","services/pixabayApi.js","App.js","index.js"],"names":["module","exports","Container","children","className","styles","Searchbar","onSubmit","useState","query","setQuery","SearchForm","event","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","target","ImageGallery","DeleteButton","id","onDelete","onClick","ImageGalleryItem","image","webformatURL","largeImageURL","tags","setLargeImg","deleteImage","showDeleteButton","setShowDeleteButton","toggleButton","onMouseEnter","onMouseLeave","onMouseOver","src","alt","Button","label","defaultProps","CloseButton","onClose","modalRoot","document","querySelector","Modal","largeImgUrl","loaded","setLoaded","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","onLoad","Error","message","error","axios","defaults","baseURL","API_KEY","a","page","perPage","get","data","hits","App","images","setImages","setPage","isLoading","setIsLoading","setError","selectedImage","setSelectedImage","showModal","setShowModal","fetchImages","then","prevImages","catch","finally","toggleModal","imageId","filter","newQuery","map","color","height","width","_","isEmpty","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0b9a1c4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3NyfU\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3byv5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2oELU\",\"Modal\":\"Modal_Modal__20ePS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__KWk2u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__26yjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DeleteButton\":\"DeleteButton_DeleteButton__3i8iJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__70nHp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CloseButton\":\"CloseButton_CloseButton__2ck_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__PoovN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__NpPsm\",\"SearchForm\":\"Searchbar_SearchForm__3mT4D\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3Ln9E\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1cwY2\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2CM1I\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={styles.Container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleInputChange = ({ target: { value } }) => setQuery(value);\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    query && onSubmit(query);\r\n\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles['SearchForm-button']}>\r\n          <span className={styles['SearchForm-button-label']}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles['SearchForm-input']}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={styles.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport styles from './DeleteButton.module.css';\r\n\r\nconst DeleteButton = ({ id, onDelete }) => {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={() => onDelete(id)}\r\n      className={styles.DeleteButton}\r\n    >\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default DeleteButton;","import React, { useState } from 'react';\r\nimport DeleteButton from '../DeleteButton/DeleteButton';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n  image: { webformatURL, largeImageURL, tags, id },\r\n  setLargeImg,\r\n  deleteImage,\r\n}) {\r\n  const [showDeleteButton, setShowDeleteButton] = useState();\r\n\r\n  const toggleButton = () => {\r\n    setShowDeleteButton(!showDeleteButton);\r\n  };\r\n\r\n  const showButton = () => {\r\n    setShowDeleteButton(true);\r\n  };\r\n\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onMouseEnter={toggleButton}\r\n      onMouseLeave={toggleButton}\r\n      onMouseOver={showButton}\r\n    >\r\n      <img\r\n        onClick={() => setLargeImg(largeImageURL)}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles['ImageGalleryItem-image']}\r\n      />\r\n      {showDeleteButton && <DeleteButton id={id} onDelete={deleteImage} />}\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  setLargeImg: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick, label }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      {label}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.defaultProps = {\r\n  label: 'Button',\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  label: PropTypes.string,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport styles from './CloseButton.module.css';\r\n\r\nconst CloseButton = ({ onClose }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.CloseButton} onClick={onClose}>\r\n      x\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default CloseButton;","import React, { useState, useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport CloseButton from '../CloseButton/CloseButton';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, largeImgUrl }) {\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = event => event.code === 'Escape' && onClose();\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleBackdropClick = event =>\r\n    event.currentTarget === event.target && onClose();\r\n\r\n  const handleLoad = () => setLoaded(true);\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.Modal}>\r\n        {loaded && <CloseButton onClose={onClose} />}\r\n        <img src={largeImgUrl} alt=\"Gallery item\" onLoad={handleLoad} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  largeImgUrl: PropTypes.string.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Error.module.css';\r\n\r\nconst Error = ({ message }) => {\r\n  return <p className={styles.error}>{message}</p>;\r\n};\r\n\r\nError.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Error;","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst API_KEY = '24042755-bf22cff341e4e7dedcdedf3c3';\r\n\r\nasync function fetchImages({ query = '', page = 1, perPage = 12 }) {\r\n  const { data } = await axios.get(\r\n    `?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\r\n  );\r\n  return data.hits;\r\n}\r\n\r\nexport { fetchImages };","import React, { useState, useEffect } from 'react';\r\n\r\nimport Container from './components/Container';\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGalleryItem';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\nimport Error from './components/Error';\r\n\r\nimport { fetchImages } from './services/pixabayApi';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport _ from 'lodash';\r\n\r\nexport default function App() {\r\n  const [images, setImages] = useState([]);\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [selectedImage, setSelectedImage] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!query) return;\r\n    setIsLoading(true);\r\n    fetchImages({\r\n      query,\r\n      page,\r\n    })\r\n      .then(images => {\r\n        setImages(prevImages => [...prevImages, ...images]);\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [page, query]);\r\n\r\n  const handleSubmit = newQuery => {\r\n    setImages([]);\r\n    setQuery(newQuery);\r\n    setPage(1);\r\n    setIsLoading(false);\r\n    setError(null);\r\n    setSelectedImage('');\r\n    setShowModal(false);\r\n  };\r\n\r\n  const setLargeImg = largeImageURL => {\r\n    setSelectedImage(largeImageURL);\r\n    toggleModal();\r\n  };\r\n\r\n  const increasePage = () => setPage(prevPage => prevPage + 1);\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  const deleteImage = imageId => {\r\n    setImages(prevImages => prevImages.filter(image => image.id !== imageId));\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Searchbar onSubmit={handleSubmit} />\r\n      <Container>\r\n        <ImageGallery>\r\n          {images.map(image => (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              image={image}\r\n              setLargeImg={setLargeImg}\r\n              deleteImage={deleteImage}\r\n            />\r\n          ))}\r\n        </ImageGallery>\r\n        {error && <Error message={error.message} />}\r\n        {isLoading && (\r\n          <Loader\r\n            type=\"TailSpin\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            className=\"loader\"\r\n          />\r\n        )}\r\n      </Container>\r\n      {!_.isEmpty(images) && !isLoading && (\r\n        <Button onClick={increasePage} label=\"Load more\" />\r\n      )}\r\n      {showModal && <Modal largeImgUrl={selectedImage} onClose={toggleModal} />}\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}