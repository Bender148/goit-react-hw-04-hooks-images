(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3NyfU","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3byv5"}},13:function(e,t,n){e.exports={Overlay:"Modal_Overlay__2oELU",Modal:"Modal_Modal__20ePS"}},25:function(e,t,n){e.exports={Container:"Container_Container__KWk2u"}},26:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__26yjs"}},27:function(e,t,n){e.exports={DeleteButton:"DeleteButton_DeleteButton__3i8iJ"}},28:function(e,t,n){e.exports={Button:"Button_Button__70nHp"}},29:function(e,t,n){e.exports={CloseButton:"CloseButton_CloseButton__2ck_T"}},30:function(e,t,n){e.exports={error:"Error_error__PoovN"}},5:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__NpPsm",SearchForm:"Searchbar_SearchForm__3mT4D","SearchForm-button":"Searchbar_SearchForm-button__3Ln9E","SearchForm-button-label":"Searchbar_SearchForm-button-label__1cwY2","SearchForm-input":"Searchbar_SearchForm-input__2CM1I"}},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),u=n(16),s=n(3),i=n(25),l=n.n(i),b=n(1),m=function(e){var t=e.children;return Object(b.jsx)("div",{className:l.a.Container,children:t})},j=n(5),f=n.n(j);function d(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],o=r[1];return Object(b.jsx)("header",{className:f.a.Searchbar,children:Object(b.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),c&&t(c),o("")},children:[Object(b.jsx)("button",{type:"submit",className:f.a["SearchForm-button"],children:Object(b.jsx)("span",{className:f.a["SearchForm-button-label"],children:"Search"})}),Object(b.jsx)("input",{className:f.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.target.value;return o(t)}})]})})}var h=n(26),O=n.n(h),p=function(e){var t=e.children;return Object(b.jsx)("ul",{className:O.a.ImageGallery,children:t})},g=n(27),_=n.n(g),x=function(e){var t=e.id,n=e.onDelete;return Object(b.jsx)("button",{type:"button",onClick:function(){return n(t)},className:_.a.DeleteButton})},v=n(12),S=n.n(v);function y(e){var t=e.image,n=t.webformatURL,r=t.largeImageURL,c=t.tags,o=t.id,u=e.setLargeImg,i=e.deleteImage,l=Object(a.useState)(),m=Object(s.a)(l,2),j=m[0],f=m[1],d=function(){f(!j)};return Object(b.jsxs)("li",{className:S.a.ImageGalleryItem,onMouseEnter:d,onMouseLeave:d,onMouseOver:function(){f(!0)},children:[Object(b.jsx)("img",{onClick:function(){return u(r)},src:n,alt:c,className:S.a["ImageGalleryItem-image"]}),j&&Object(b.jsx)(x,{id:o,onDelete:i})]})}var I=n(28),C=n.n(I),N=function(e){var t=e.onClick,n=e.label;return Object(b.jsx)("button",{type:"button",className:C.a.Button,onClick:t,children:n})};N.defaultProps={label:"Button"};var k=N,F=n(29),w=n.n(F),B=function(e){var t=e.onClose;return Object(b.jsx)("button",{type:"button",className:w.a.CloseButton,onClick:t,children:"x"})},G=n(13),L=n.n(G),E=document.querySelector("#modal-root");function M(e){var t=e.onClose,n=e.largeImgUrl,r=Object(a.useState)(!1),o=Object(s.a)(r,2),u=o[0],i=o[1];Object(a.useEffect)((function(){var e=function(e){return"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}));return Object(c.createPortal)(Object(b.jsx)("div",{className:L.a.Overlay,onClick:function(e){return e.currentTarget===e.target&&t()},children:Object(b.jsxs)("div",{className:L.a.Modal,children:[u&&Object(b.jsx)(B,{onClose:t}),Object(b.jsx)("img",{src:n,alt:"Gallery item",onLoad:function(){return i(!0)}})]})}),E)}var D=n(30),U=n.n(D),P=function(e){var t=e.message;return Object(b.jsx)("p",{className:U.a.error,children:t})},q=n(31),T=n(14),J=n.n(T),R=n(15),z=n.n(R);z.a.defaults.baseURL="https://pixabay.com/api/";var A="24042755-bf22cff341e4e7dedcdedf3c3";function H(){return(H=Object(q.a)(J.a.mark((function e(t){var n,a,r,c,o,u,s,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,a=void 0===n?"":n,r=t.page,c=void 0===r?1:r,o=t.perPage,u=void 0===o?12:o,e.next=3,z.a.get("?q=".concat(a,"&page=").concat(c,"&key=").concat(A,"&image_type=photo&orientation=horizontal&per_page=").concat(u));case 3:return s=e.sent,i=s.data,e.abrupt("return",i.hits);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=n(32),W=n.n(K),Y=(n(78),n(33)),Q=n.n(Y);function V(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(s.a)(c,2),i=o[0],l=o[1],j=Object(a.useState)(1),f=Object(s.a)(j,2),h=f[0],O=f[1],g=Object(a.useState)(!1),_=Object(s.a)(g,2),x=_[0],v=_[1],S=Object(a.useState)(null),I=Object(s.a)(S,2),C=I[0],N=I[1],F=Object(a.useState)(""),w=Object(s.a)(F,2),B=w[0],G=w[1],L=Object(a.useState)(!1),E=Object(s.a)(L,2),D=E[0],U=E[1];Object(a.useEffect)((function(){i&&(v(!0),function(e){return H.apply(this,arguments)}({query:i,page:h}).then((function(e){r((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))}))})).catch((function(e){N(e)})).finally((function(){return v(!1)})))}),[h,i]);var q=function(e){G(e),T()},T=function(){U(!D)},J=function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(d,{onSubmit:function(e){r([]),l(e),O(1),v(!1),N(null),G(""),U(!1)}}),Object(b.jsxs)(m,{children:[Object(b.jsx)(p,{children:n.map((function(e){return Object(b.jsx)(y,{image:e,setLargeImg:q,deleteImage:J},e.id)}))}),C&&Object(b.jsx)(P,{message:C.message}),x&&Object(b.jsx)(W.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,className:"loader"})]}),!Q.a.isEmpty(n)&&!x&&Object(b.jsx)(k,{onClick:function(){return O((function(e){return e+1}))},label:"Load more"}),D&&Object(b.jsx)(M,{largeImgUrl:B,onClose:T})]})}n(81);o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.0b9a1c4b.chunk.js.map